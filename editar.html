<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="img/icono.png">
    <title>Registro de Requerimientos</title>
</head>

<body>

    <header class="main-header">
        <div class="header-container">
            <nav class="nav-menu">
                <a href="#" class="logo">
                    <img src="img/logo blanco.png" alt="Logo Empresa">
                </a>
                <div class="nav-links">
                    <a href="inicio.html">Inicio</a>
                    <a href="misRequerimientos.html">Mis Requerimientos</a>
                    <a href="validacion.html" id="navValidar">Validaci√≥n</a>
                </div>
                <div class="nav-actions">
                    <a href="perfil.html" class="perfil-btn">
                        <img src="img/avatar.png" alt="Perfil">
                    </a>

                    <a href="#" class="logout-btn" onclick="logout()">
                        <img src="img/log-out.png" alt="Salir">
                    </a>
                </div>

            </nav>
        </div>
    </header>

    <main class="main-content">
        <section class="result-card">
            <h3>Modificar Contenido T√©cnico</h3>

            <div id="editorContenido" contenteditable="true" class="document-preview editor-estilo-fijo">
                Cargando contenido...
            </div>

            <div class="actions-buttons">
                <button class="btn-icon-volver" onclick="irAtrasSegunRol()" title="Volver a la lista">
                    <img src="img/anterior.png" alt="Regresar" class="img-volver">
                </button>

                <div class="buttons-right">
                    <button class="btn-primary" onclick="guardarEdicion()">üíæ Guardar Cambios</button>
                    <button class="btn-danger" onclick="window.history.back()">‚ùå Cancelar</button>
                </div>
            </div>
        </section>
    </main>

    <script src="js/script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const contenidoHTML = localStorage.getItem("reqTemporal");
            if (contenidoHTML) {
                const tempDiv = document.createElement("div");
                tempDiv.innerHTML = contenidoHTML;

                let textoPlano = tempDiv.innerText || tempDiv.textContent;

                document.getElementById("editorContenido").value = textoPlano.trim();
            }
        });
    </script>
</body>

</html>